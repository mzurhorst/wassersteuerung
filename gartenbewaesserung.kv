#:import Factory kivy.factory.Factory

#<MyPopup2@Popup>:
    #auto_dismiss: False
    #title: "Popup Window No. 2"
    #TabbedPanel:
        #do_default_tab: False
        #TabbedPanelItem:
            #text: 'first tab'
            #Label:
                #text: 'First tab content area'
        #TabbedPanelItem:
            #text: 'tab2'
            #BoxLayout:
                #Label:
                    #text: 'Second tab content area'
                #Button:
                    #text: 'Button that does nothing'
        #TabbedPanelItem:
            #text: 'tab3'
            #Button:
                #text: 'Close me, too!'
                #on_release: root.dismiss()


<MyPopup1@Popup>:
    auto_dismiss: False
    size_hint: None,None
    size: 400,300
    title: "Popup Window No. 1"
    TabbedPanel:
        do_default_tab: False
        TabbedPanelItem:
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    orientation: "vertical"
                    BoxLayout:
                        Label:
                            text: 'Circuit Active:'
                            halign: "left"
                        ToggleButton:
                            id: popupbutton
                            on_state: app.testfunktion(*args)
                            
                    BoxLayout:
                        Label:
                            text: 'Default Watering Time: [min]'
                        TextInput:
                            id: popuptextinput
                            text: '30'
                    BoxLayout:
                        Label:
                            text: 'Watering Group'
                        TextInput:    
                            text: '3'
                    BoxLayout:
                        Button:
                            text: 'Previous'
                        Button:
                            text: 'Cancel'
                            on_release: root.dismiss()
                        Button:
                            text: 'Save + Exit'
                        Button:
                            text: 'Next'
                            on_release: root.dismiss()
                            #on_release: Factory.MyPopup2().open()



BoxLayout:
    orientation: "vertical"
    padding: 5

    BoxLayout:
        BoxLayout:
            padding: 5
            ToggleButton:
                text: "Wasserkreis 1"
#               disabled: True
                on_release: Factory.MyPopup1().open()
        BoxLayout:
            padding: 5
            ToggleButton:
                state: button3.state
                text: "Wasserkreis 2"
        BoxLayout:
            padding: 5
            ToggleButton:
                id: button3
                text: "Wasserkreis 3"

    BoxLayout:
        BoxLayout:
            padding: 5
            ToggleButton:
                text: "Wasserkreis 4"
        BoxLayout:
            padding: 5
            ToggleButton:
                text: "Wasserkreis 5"
        BoxLayout:
            padding: 5
            ToggleButton:
                text: "Wasserkreis 6"
                on_state: app.testfunktion(*args)

    BoxLayout:
        BoxLayout:
            padding: 5
            Label:
                text: 'Drei Zeilen\nmit\nStatusmeldungen'
        BoxLayout:
            size_hint_x: 0.5
            padding: 5
            BoxLayout:
                Button:
                    padding_right: 5
                    text: "Settings"
                    on_release: Factory.MyPopup1().open()
                ToggleButton:
                    id: mytogglebutton
                    padding_left: 5
                    text: "Test"
                    on_state: app.testfunktion(*args)





